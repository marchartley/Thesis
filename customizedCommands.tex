\LetLtxMacro{\Oldincludegraphics}{\includegraphics}
\RenewDocumentCommand{\includegraphics}{O{} m}{%
	\begin{adjustbox}{max width=\textwidth, max height=\textheight-5\baselineskip}
	    \Oldincludegraphics[#1]{#2}
	\end{adjustbox}
}
\newcommand{\inset}[3][0.2\linewidth]{
    \noindent\stackinset{r}{0.1cm}{b}{0.1cm}{
        \colorbox{white}{
            \includegraphics[width=#1]{#3}
        }
    }
	{\includegraphics{#2}}
}

\newcommand{\teaser}[1]{
    \begin{figure*}
        #1
    \end{figure*}
}

\def\minitoc{
	\etocsettocstyle{\section*{\contentsname}}{}
	\localtableofcontents
	\noindent\textbf{\hyperlink{tocpage}{Back to summary}}
}
% \makeatletter\@addtoreset{chapter}{part}\makeatother%

\sisetup{product-units=repeat}

\emergencystretch=1em

% \setkeys{Gin}{width=\linewidth}

\renewcommand{\cellalign}{cl}
\newcolumntype{H}{>{\setbox0=\hbox\bgroup}c<{\egroup}@{}}

\DeclareCiteCommand{\cite}[\mkbibparens]
  {\usebibmacro{prenote}\usebibmacro{cite:init}}
  {\usebibmacro{citeindex}
   \printtext[bibhyperref]{\usebibmacro{cite}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}

\DeclareCiteCommand{\citep}
{\usebibmacro{prenote}}
{\usebibmacro{citeindex}
 \printtext[bibhyperref]{\usebibmacro{cite}}}
{\multicitedelim}
{\usebibmacro{postnote}}

\AtEveryBibitem{\clearfield{url}}
\AtEveryBibitem{\clearfield{note}} % Notes from Mendeley

\lstset {
    language=C++,
    backgroundcolor=\color{black!5}, % set backgroundcolor
    basicstyle=\footnotesize,% basic font setting
}

\makeglossaries
\DeclareDocumentCommand{\newdualentry}{ O{} O{} m m m m g } {
  \newglossaryentry{gls-#3}{
    name={#5},
    text={#5\glsadd{#3}},
    plural={\IfValueTF{#7}{#7}{#5s}},
    longplural={\IfValueTF{#7}{#7}{#5s}},
    description={#6},#1
  }
  \makeglossaries
  \newacronym[longplural={\IfValueTF{#7}{#7}{#5s}}, see={[Glossary:]{gls-#3}},#2]{#3}{#4}{#5\glsadd{gls-#3}}
}
\newcommand{\gloss}[1]{\gls{#1}\glsadd{gls-#1}}
\newcommand{\glosses}[1]{\glspl{#1}\glsadd{gls-#1}}
\newcommand{\Gloss}[1]{\Gls{#1}\glsadd{gls-#1}}
\newcommand{\Glosses}[1]{\Glspl{#1}\glsadd{gls-#1}}
